(this["webpackJsonpreact-practice-movie"]=this["webpackJsonpreact-practice-movie"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/image.e2705afd.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/image.e2705afd.jpg"},35:function(e,t,a){e.exports=a(60)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),l=(a(40),a(41),a(42),a(11));a(43);function o(){return r.a.createElement("ul",{className:"nav nav-pills my-1",id:"pills-tab"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{to:"/main",className:"nav-link",id:"pills-home-tab","data-toggle":"pill"},"Main")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{className:"nav-link",id:"pills-profile-tab","data-toggle":"pill",to:"/popular"},"Popular")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{className:"nav-link",id:"pills-contact-tab","data-toggle":"pill",to:"/top"},"Top Rated")))}function u(e){return r.a.createElement("nav",{className:"navbar navbar-light bg-light justify-content-between flex-nowrap"},r.a.createElement(o,null))}var i=a(2),p=a.n(i),m=a(4),d=a(13),f=a(14),v=a(16),g=a(15);a(49),a(50);function h(e){var t=e.title,a=(e.id,e.overview),n=e.poster,c=e.pathTo;return r.a.createElement("div",{className:"suggetions-movie col-3 mb-5",style:{width:300}},r.a.createElement(l.b,{to:c},r.a.createElement("img",{src:n,className:"suggetions-movie-img-top",alt:"sorry"})),r.a.createElement("div",{className:"suggetions-movie-body"},r.a.createElement("h5",{className:"suggetions-movie-title"},t),r.a.createElement("p",{className:"suggetions-movie-text"},a),r.a.createElement(l.b,{to:c,className:"btn btn-primary"},"Read more...")))}var E="https://api.themoviedb.org/3/",b="844dba0bfd8f3a4f3799f6130ef9e335",O=function(e){return"".concat(E,"suggetions/movie?api_key=").concat(b,"&query=").concat(e)},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(E,"movie/popular?api_key=").concat(b,"&page=").concat(e)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(E,"movie/top_rated?api_key=").concat(b,"&page=").concat(e)},T="https://image.tmdb.org/t/p/",_=a(31),x=a.n(_);function N(e){var t=e.slice(0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:190;return Math.floor(e+Math.random()*(t-e))}()),a=t.lastIndexOf(".");return t.slice(0,a)+"...."}function w(e){var t=e.results,a=e.path,n=[];return t.map((function(e){if(n.find((function(t){return t===e.id})))return"";n.push(e.id);var t=e.poster_path?"".concat(T).concat("w500").concat(e.poster_path):x.a,c=e.overview.length>150?N(e.overview):e.overview;return r.a.createElement(h,{title:e.title,id:e.id,key:e.id,overview:c,poster:t,pathTo:"".concat(a).concat(e.id)})}))}a(51),a(52);function S(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}a(53);var P=function(){window.scrollTo({top:0,behavior:"smooth"})};function k(){return r.a.createElement("div",{className:"arrow",onClick:P})}var R=a(8),A=a(9),L=a(12);function D(e,t){localStorage.setItem(e,JSON.stringify(t))}function M(e){var t=JSON.parse(localStorage.getItem(e));return null!=t&&t}var U=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.setData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-1 mx-auto"},"Popular"),this.props.loading?r.a.createElement(S,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"suggetions-movie-deck row justify-content-center my-5"},r.a.createElement(w,{results:this.props.results,path:"/"}))),r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("button",{className:"btn btn-info mx-auto center",onClick:this.props.loadNextPage},"Load more.."))))}}]),a}(n.Component);var B=Object(R.b)((function(e){var t=e.popular;return{results:t.results,page:t.page,loading:t.loading}}),(function(e){return{setData:function(){return e(function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M("POPULAR")){e.next=5;break}return a=M("POPULAR"),e.abrupt("return",t({type:"POPULAR_SET_STATE_FROM_STORAGE",results:a.results,page:a.page}));case 5:return e.next=7,fetch(y(1));case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,D("POPULAR",c={results:r.results,loading:!1,page:1}),e.abrupt("return",t(Object(L.a)({type:"POPULAR_LOAD_STATE"},c)));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},loadNextPage:function(){return e(function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,c,s,l,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().popular,r=n.page,c=n.results,e.next=3,fetch(y(r+1));case 3:return s=e.sent,e.next=6,s.json();case 6:return l=e.sent,D("POPULAR",o={results:[].concat(Object(A.a)(c),Object(A.a)(l.results)),loading:!1,page:r+1}),e.abrupt("return",t(Object(L.a)({type:"POPULAR_LOAD_NEXT_PAGE"},o)));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))(U),C=(a(55),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.setData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-1 mx-auto"},"Top Rated"),this.props.loading?r.a.createElement(S,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"suggetions-movie-deck row justify-content-center my-5"},r.a.createElement(w,{results:this.props.results,path:"/"}))),r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("button",{className:"btn btn-info mx-auto center",onClick:this.props.loadNextPage},"Load more.."))))}}]),a}(n.Component));var G=Object(R.b)((function(e){var t=e.top;return{results:t.results,page:t.page,loading:t.loading}}),(function(e){return{setData:function(){return e(function(){var e=Object(m.a)(p.a.mark((function e(t){var a,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M("TOP")){e.next=5;break}return a=M("TOP"),e.abrupt("return",t({type:"TOP_SET_STATE_FROM_STORAGE",results:a.results,page:a.page}));case 5:return e.next=7,fetch(j(1));case 7:return n=e.sent,e.next=10,n.json();case 10:return r=e.sent,D("TOP",c={results:r.results,loading:!1,page:1}),e.abrupt("return",t(Object(L.a)({type:"TOP_LOAD_STATE"},c)));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},loadNextPage:function(){return e(function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,c,s,l,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().top,r=n.page,c=n.results,e.next=3,fetch(j(r+1));case 3:return s=e.sent,e.next=6,s.json();case 6:return l=e.sent,D("TOP",o={results:[].concat(Object(A.a)(c),Object(A.a)(l.results)),loading:!1,page:r+1}),e.abrupt("return",t(Object(L.a)({type:"TOP_LOAD_NEXT_PAGE"},o)));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))(C),I=(a(56),a(33)),F=a.n(I),V=a(23),H=function(e,t){return function(){var a=Object(m.a)(p.a.mark((function a(n){var r,c,s,l,o,u,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(r=M(e))){a.next=6;break}return t(r.results),a.abrupt("return",n({type:"SET_RESULTS_TRAILER",payloadTrailer:r.trailer,payloadResults:r.results}));case 6:return c="".concat(E,"movie/").concat(e,"?api_key=").concat(b),a.next=9,fetch(c);case 9:return s=a.sent,a.next=12,s.json();case 12:return l=a.sent,a.next=15,fetch((p=e,"".concat(E,"movie/").concat(p,"/videos?api_key=").concat(b)));case 15:return o=a.sent,a.next=18,o.json();case 18:return u=a.sent,i=u.results[0]?u.results[0].key:"7R1N-8SoqcM",D(e,{results:l,trailer:i}),t(l),a.abrupt("return",n({type:"SET_RESULTS_TRAILER",payloadTrailer:i,payloadResults:l}));case 23:case"end":return a.stop()}var p}),a)})));return function(e){return a.apply(this,arguments)}}()},J=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).onDragEnd=function(t){var a=t.destination,n=t.source;if(a&&a.index!==n.index){var r=Object(A.a)(e.props.movieBadges),c=r[n.index];r.splice(n.index,1),r.splice(a.index,0,c),e.props.setChangeMovieBadges(r)}},e.render=function(){return r.a.createElement("div",{className:"container row new-row"},e.props.trailer?r.a.createElement("img",{src:e.props.results.poster_path?"".concat(T).concat("w780").concat(e.props.results.poster_path):F.a,className:"rounded col-xl-4 offset-md-1",alt:"movie-post"}):r.a.createElement(S,null),r.a.createElement("div",{className:"col-xl-4 offset-xl-1"},r.a.createElement("h1",null,e.props.results.title),r.a.createElement("hr",null),r.a.createElement("strong",null," Description: "),r.a.createElement("p",null,e.props.results.overview||"loading.."),r.a.createElement("hr",null),r.a.createElement(V.a,{onDragEnd:e.onDragEnd},r.a.createElement("div",null,r.a.createElement("strong",null,"Generes: "),r.a.createElement(V.c,{droppableId:"droppable",direction:"horizontal"},(function(t){return r.a.createElement("span",Object.assign({ref:t.innerRef},t.droppableProps),e.props.movieBadges,t.placeholder)})))),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Rate: "),r.a.createElement("i",null,e.averageRate()||"?","/10")),e.setRate(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null," Trailer: ")),r.a.createElement("div",{className:"trailer"},e.props.trailer?r.a.createElement("iframe",{frameBorder:"0",allowFullScreen:"1",title:"YouTube video player",src:"https://www.youtube.com/embed/".concat(e.props.trailer,"?controls=1")}):"loading...")))},e}return Object(f.a)(a,[{key:"componentWillUnmount",value:function(){this.props.reload()}},{key:"componentDidMount",value:function(){this.props.setData(this.props.match.params.movie,this.setBadges.bind(this))}},{key:"setBadges",value:function(e){for(var t=this,a=[],n=function(e){var t=Math.round(6*Math.random());a.some((function(e){return t===e}))?e--:a.push(t),c=e},c=0;c<e.genres.length;c++)n(c);var s=e.genres.map((function(e,n){return r.a.createElement(V.b,{draggableId:n+e.name,index:n,key:n},(function(c){return r.a.createElement("span",Object.assign({},c.draggableProps,c.dragHandleProps,{ref:c.innerRef,key:n,className:"badge badge-pill badge-".concat(t.props.badges[a[n]])}),e.name)}))}));this.props.setChangeMovieBadges(s)}},{key:"averageRate",value:function(){return Math.round(this.props.results.vote_average)}},{key:"setRate",value:function(){for(var e=this.averageRate()||0,t=[],a=0;a<10;a++)t[a]=r.a.createElement("span",{key:a,className:"fa fa-star".concat(a<e?" checked":"")});return t}}]),a}(r.a.Component);var X=Object(R.b)((function(e){return{results:e.movie.results,trailer:e.movie.trailer,badges:e.movie.badges,movieBadges:e.movie.movieBadges}}),(function(e){return{setData:function(t,a){return e(H(t,a))},setChangeMovieBadges:function(t){return e({type:"SET_MOVIE_BADGES",payload:t})},reload:function(){return e({type:"RELOAD"})}}}))(J),q=a(17),z=a(22);a(57),a(58);function W(e){var t=e.handlerLoading,a=e.handlerGoUp,n=e.leftData,c=e.data;return void 0===c||c?n()?r.a.createElement("button",{className:"btn btn-info mx-auto center",onClick:t},"Load more.."):r.a.createElement("button",{className:"btn btn-danger mx-auto center",onClick:a},"Thats all, go to up? "):""}var Y;a(59);function K(){return r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("h1",{className:"display-1"},"not found"))}var Q=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",page:1,results:void 0,allPages:0},e.componentDidMount=function(){var t=M("SEARCH");t&&e.setState({results:t.results,allPages:t.allPages,inputValue:t.inputValue})},e.valueTarget=function(t){var a=t.target;if(e.setState({inputValue:a.value}),clearTimeout(Y),""===a.value)return e.setState({results:void 0,allPages:0,page:1}),void localStorage.removeItem("SEARCH");Y=setTimeout(e.doSearch.bind(Object(z.a)(e),a.value),500)},e.doSearch=function(){var t=Object(m.a)(p.a.mark((function t(a){var n,r,c,s,l,o,u,i=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=i.length>1&&void 0!==i[1]&&i[1])){t.next=12;break}return r="".concat(O(a),"&page=").concat(n),t.next=5,fetch(r);case 5:return c=t.sent,t.next=8,c.json();case 8:s=t.sent,e.setState((function(e){return{results:[].concat(Object(A.a)(e.results),Object(A.a)(s.results)),page:e.page+1}})),t.next=22;break;case 12:return t.next=14,fetch(O(a));case 14:return l=t.sent,t.next=17,l.json();case 17:o=t.sent,u={results:Object(A.a)(o.results),allPages:o.total_pages},e.setState(u),u.inputValue=a,D("SEARCH",u);case 22:return t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlerLoading=function(){var t=e.state.page+1;e.doSearch(e.state.inputValue,t)},e.handlerGoUp=function(){window.scrollTo({top:0,behavior:"smooth"})},e.leftData=function(){return e.state.allPages>e.state.page},e}return Object(f.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form-inline order-0 center",onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",value:this.state.inputValue,placeholder:"suggetions film","aria-label":"Search",onChange:this.valueTarget})),this.state.results?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"suggetions-movie-deck row justify-content-center my-5"},this.state.results.length>0?r.a.createElement(w,{results:this.state.results,path:"/"}):r.a.createElement(K,null))):"",this.state.results?r.a.createElement(W,{handlerLoading:this.handlerLoading,handlerGoUp:this.handlerGoUp,leftData:this.leftData,data:this.state.results.length}):"")}}]),a}(n.Component);function Z(){return r.a.createElement("div",null,r.a.createElement(Q,null))}function $(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(q.d,null,r.a.createElement(q.b,{path:"/main",exact:!0,component:Z}),r.a.createElement(q.b,{path:"/popular/",component:B}),r.a.createElement(q.b,{path:"/top",component:G}),r.a.createElement(q.b,{path:"/:movie",component:X}),r.a.createElement(q.a,{to:"/main"})))}var ee=a(6),te={results:[],trailer:"",badges:["success","warning","danger","primary","info","secondary","dark"],movieBadges:[]};var ae={results:[],page:1,loading:!0};var ne={results:[],page:1,loading:!0};var re=Object(ee.c)({movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RESULTS_TRAILER":return Object(L.a)({},e,{results:t.payloadResults,trailer:t.payloadTrailer});case"SET_MOVIE_BADGES":return Object(L.a)({},e,{movieBadges:t.payload});case"RELOAD":return Object(L.a)({},e,{results:[],trailer:"",movieBadges:[]});default:return e}},top:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOP_SET_STATE_FROM_STORAGE":return{results:t.results,page:t.page,loading:!1};case"TOP_LOAD_STATE":case"TOP_LOAD_NEXT_PAGE":return{results:t.results,page:t.page,loading:t.loading};default:return e}},popular:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POPULAR_SET_STATE_FROM_STORAGE":return{results:t.results,page:t.page,loading:!1};case"POPULAR_LOAD_STATE":case"POPULAR_LOAD_NEXT_PAGE":return{results:t.results,page:t.page,loading:t.loading};default:return e}}}),ce=a(34),se=Object(ee.e)(re,Object(ee.a)(ce.a)),le=r.a.createElement(R.a,{store:se},r.a.createElement(l.a,null,r.a.createElement($,null)));s.a.render(le,document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1d3007cc.chunk.js.map