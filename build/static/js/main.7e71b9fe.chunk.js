(this["webpackJsonpreact-practice-movie"]=this["webpackJsonpreact-practice-movie"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/image.e2705afd.jpg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/image.e2705afd.jpg"},function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),l=(a(32),a(33),a(34),a(5));function o(){return r.a.createElement("ul",{className:"nav nav-pills my-1",id:"pills-tab"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{to:"/main",className:"nav-link",id:"pills-home-tab","data-toggle":"pill"},"Main")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{className:"nav-link",id:"pills-profile-tab","data-toggle":"pill",to:"/popular"},"Popular")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.c,{className:"nav-link",id:"pills-contact-tab","data-toggle":"pill",to:"/top"},"Top Rated")))}function i(e){return r.a.createElement("nav",{className:"navbar navbar-light bg-light justify-content-between flex-nowrap"},r.a.createElement(o,null))}var u=a(2),m=a.n(u),p=a(20),d=a(7),f=a(8),v=a(9),h=a(11),g=a(10),E=(a(41),a(17)),b=a.n(E);a(42);function y(e){var t=e.title,a=(e.id,e.overview),n=e.poster,c=e.pathTo;return console.log(n),r.a.createElement("div",{className:"card col-3 mb-5",style:{width:300}},r.a.createElement(l.b,{to:c},r.a.createElement("img",{src:n,className:"card-img-top",alt:"sorry"})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("p",{className:"card-text"},a),r.a.createElement(l.b,{to:c,className:"btn btn-primary"},"Read more...")))}var j="https://api.themoviedb.org/3/",k="844dba0bfd8f3a4f3799f6130ef9e335",w=function(e){return"".concat(j,"search/movie?api_key=").concat(k,"&query=").concat(e)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(j,"movie/popular?api_key=").concat(k,"&page=").concat(e)},x="".concat(j,"movie/top_rated?api_key=").concat(k),O="http://image.tmdb.org/t/p/";function S(e){var t=e.results,a=e.path,n=[];return t.map((function(e){if(n.find((function(t){return t===e.id})))return"";n.push(e.id);var t=e.poster_path?"".concat(O).concat("w500").concat(e.poster_path):b.a;return r.a.createElement(y,{title:e.title,id:e.id,key:e.id,overview:e.overview,poster:t,pathTo:"".concat(a).concat(e.id)})}))}a(43);var R,_=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={results:[],page:1},e.handlerLoading=Object(d.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(N(e.state.page+1));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.setState((function(e){return{results:[].concat(Object(p.a)(e.results),Object(p.a)(n.results)),page:e.page+1}}),console.log(e.state));case 7:case"end":return t.stop()}}),t)}))),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N());case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({results:a.results,page:this.state.page+1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("render"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-1 mx-auto"},"Popular"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-deck row justify-content-center my-5"},r.a.createElement(S,{results:this.state.results,path:"/"}))),r.a.createElement("button",{className:"btn btn-info mx-auto center",onClick:this.handlerLoading},"Load more.."))}}]),a}(n.Component),T=(a(44),function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={results:[]},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(x);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({results:a.results});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-1 mx-auto"},"Top Rated"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-deck row justify-content-center my-5"},r.a.createElement(S,{results:this.state.results,path:"/"}))))}}]),a}(n.Component)),M=(a(45),a(26)),C=a.n(M),F=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={results:[],trailer:"",badges:["success","warning","danger","primary","info","secondary","dark"]},e.render=function(){return r.a.createElement("div",{className:"container row"},r.a.createElement("img",{src:e.state.results.poster_path?"".concat(O).concat("w780").concat(e.state.results.poster_path):C.a,className:"rounded col-xl-4 offset-md-1",alt:"movie-post"}),r.a.createElement("div",{className:"col-xl-4 offset-xl-1"},r.a.createElement("h1",null,e.state.results.title),r.a.createElement("hr",null),r.a.createElement("strong",null," Description: "),r.a.createElement("p",null,e.state.results.overview||"loading.."),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Generes: "),e.setBadges()),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Rate: "),r.a.createElement("i",null,e.averageRate()||"?","/10")),e.setRate(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("strong",null," Trailer: ")),r.a.createElement("div",{className:"trailer"},e.state.trailer?r.a.createElement("iframe",{frameBorder:"0",allowFullScreen:"1",title:"YouTube video player",src:"https://www.youtube.com/embed/".concat(e.state.trailer,"?controls=1")}):"loading...")))},e}return Object(v.a)(a,[{key:"getStateResults",value:function(){return!!this.state.results}},{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark((function e(){var t,a,n,r,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movie,a="".concat(j,"movie/").concat(t,"?api_key=").concat(k),e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.next=10,fetch((o=t,"".concat(j,"movie/").concat(o,"/videos?api_key=").concat(k)));case 10:return c=e.sent,e.next=13,c.json();case 13:s=e.sent,l=s.results[0]?s.results[0].key:"7R1N-8SoqcM",this.setState({results:r,trailer:l});case 16:case"end":return e.stop()}var o}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBadges",value:function(){var e=this,t=[];if(!this.state.results.genres)return"loading..";for(var a=function(e){var a=Math.round(6*Math.random());t.some((function(e){return a===e}))?e--:t.push(a),n=e},n=0;n<this.state.results.genres.length;n++)a(n);return this.state.results.genres.map((function(a,n){return r.a.createElement("span",{key:n,className:"badge badge-pill badge-".concat(e.state.badges[t[n]])},a.name)}))}},{key:"averageRate",value:function(){return Math.round(this.state.results.vote_average)}},{key:"setRate",value:function(){for(var e=this.averageRate()||0,t=[],a=0;a<10;a++)t[a]=r.a.createElement("span",{key:a,className:"fa fa-star".concat(a<e?" checked":"")});return t}}]),a}(r.a.Component),A=a(12),B=a(15),D=(a(46),a(47),function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",page:1,results:void 0},e.valueTarget=function(t){var a=t.target;e.setState({inputValue:a.value}),clearTimeout(R),R=setTimeout(e.doSearch.bind(Object(B.a)(e),a.value),500)},e.doSearch=function(){var t=Object(d.a)(m.a.mark((function t(a){var n,r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=w(a),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,console.log(c),e.setState({results:c.results});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(a,[{key:"render",value:function(){return console.log(this.state.results),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form-inline order-0 center"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",value:this.state.inputValue,placeholder:"search film","aria-label":"Search",onChange:this.valueTarget})),this.state.results?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-deck row justify-content-center my-5"},this.state.results.length>0?r.a.createElement(S,{results:this.state.results,path:"/"}):"not found")):"")}}]),a}(n.Component));function L(){return r.a.createElement("div",null,r.a.createElement(D,null))}var V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(A.d,null,r.a.createElement(A.b,{path:"/main",exact:!0,component:L}),r.a.createElement(A.b,{path:"/popular/",component:_}),r.a.createElement(A.b,{path:"/top",component:T}),r.a.createElement(A.b,{path:"/:movie",component:F}),r.a.createElement(A.a,{to:"/main"})))};s.a.render(r.a.createElement(l.a,null,r.a.createElement(V,null)),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.7e71b9fe.chunk.js.map